<!DOCTYPE html>
<html>
<head>
<title>Cross-domain REST-service example using JSONP</title>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">

window.onload=getJSONP();

//JSONP
function getJSONP(){
	// Construct the URL; the '?' will be filled automatically by
	// JQuery using a random name for the anonymous function given
	// in the getJSON function call
	var query=prompt('enter your search string','(ti=*scan* not scann*) and PN=EP');
	var URL_1='https://worldwide.espacenet.com/3.2/rest-services/published-data/search/biblio/?q=';
	var URL_2='https://worldwide.espacenet.com/3.2/rest-services/published-data/search/?q=';
	var sUrl = URL_2+encodeURIComponent(query);
	// Call jQueryâ€™s getJSON function with url and anonymous callback function that recieves the data and will run, one the data is ready.
	
	$.getJSON(sUrl, function(data) {
	console.log('Data recieved from JSONP: ', data);
	document.querySelector("div").textContent=JSON.stringify(data);
	});
};
</script>
</head>

<body>
<!--
<h1>JSONP-respone:</h1>
-->
<div></div>

</html>
